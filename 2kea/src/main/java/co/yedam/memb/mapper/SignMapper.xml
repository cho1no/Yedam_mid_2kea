<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="co.yedam.memb.mapper.SignMapper">

	<select id="selectMember"
		parameterType="co.yedam.memb.vo.MemberVO"
		resultType="co.yedam.memb.vo.MemberVO">
		SELECT *
		FROM Member
		WHERE id = #{id} AND pw = #{pw}
	</select>



	<insert id="insertMember"
		parameterType="co.yedam.memb.vo.MemberVO">
		INSERT INTO
		member(id, pw, m_name, email, phone)
		values(#{id}, #{pw}, #{mName}, #{email} ,#{phone})
	</insert>

	<delete id="deleteMember" parameterType="int">
		DELETE FROM member
		WHERE
		id = #{id}
	</delete>

	<update id="updateMember"
		parameterType="co.yedam.memb.vo.MemberVO">
		UPDATE member
		set 
			<if test="pw != null">pw = #{pw},</if>
			<if test="mName != null">m_Name = #{mName},</if>
			<if test="email != null">email = #{email},</if>
			<if test="phone != null">phone = #{phone},</if>
		WHERE id = #{id}
	</update>

	<select id="findId" parameterType="co.yedam.memb.vo.MemberVO"
		resultType="co.yedam.memb.vo.MemberVO">
		SELECT id
		FROM member
		WHERE m_Name = #{mName} AND phone =
		#{phone}
	</select>

	<select id="findPw" parameterType="co.yedam.memb.vo.MemberVO"
		resultType="co.yedam.memb.vo.MemberVO">
		SELECT pw
		FROM member
		WHERE id = #{id} AND m_Name = #{m_name}
		AND phone = #{phone}
	</select>

	<select id="selectUserInfo"
		parameterType="String"
		resultType="co.yedam.memb.vo.MemberVO">
		SELECT *
		FROM member
		WHERE id = #{id}
	</select>

</mapper>
